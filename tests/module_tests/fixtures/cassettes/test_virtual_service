interactions:
- request:
    body: null
    headers:
      Content-Type:
      - application/json
      Cookie:
      - csrftoken=gFyjGQECYRjTY9L9BT71461JgZoQ8vQb; sessionid=rkf9e2akvhokesyd50l6rlur1wqrn3ui;
        avi-sessionid=rkf9e2akvhokesyd50l6rlur1wqrn3ui; csrftoken=gFyjGQECYRjTY9L9BT71461JgZoQ8vQb;
        sessionid=rkf9e2akvhokesyd50l6rlur1wqrn3ui; avi-sessionid=rkf9e2akvhokesyd50l6rlur1wqrn3ui
      Referer:
      - https://10.10.29.206
      X-Avi-Tenant:
      - admin
      X-Avi-Version:
      - 18.2.5
      X-CSRFToken:
      - gFyjGQECYRjTY9L9BT71461JgZoQ8vQb
      timeout:
      - '300'
    method: GET
    uri: https://10.10.29.206/api/virtualservice?include_refs=&include_name=&name=rtb-facebook_outside_p80
  response:
    body:
      string: !!python/unicode '{"count": 1, "results": [{"network_profile_ref": "https://10.10.29.206/api/networkprofile/networkprofile-c1df95f6-65b8-4451-85e4-468f94d40f3e#System-TCP-Proxy",
        "vip_runtime": [{"num_additional_se": 0, "requested_resource": {"num_se":
        1, "num_standby_se": 0}, "vip_id": "0"}], "weight": 1, "tenant_ref": "https://10.10.29.206/api/tenant/admin#admin",
        "flow_dist": "LOAD_AWARE", "delay_fairness": false, "vip": [{"vip_id": "0",
        "avi_allocated_fip": false, "auto_allocate_ip": false, "enabled": true, "auto_allocate_floating_ip":
        false, "avi_allocated_vip": false, "auto_allocate_ip_type": "V4_ONLY", "ip_address":
        {"type": "V4", "addr": "172.82.206.52"}}], "url": "https://10.10.29.206/api/virtualservice/virtualservice-7b058734-e628-424e-b4d9-ae24ac0876be#rtb-facebook_outside_p80",
        "marked_for_delete": false, "vrf_context_ref": "https://10.10.29.206/api/vrfcontext/vrfcontext-36b34585-8412-4a71-a3dc-781c1115312d#global",
        "vsvip_ref": "https://10.10.29.206/api/vsvip/vsvip-4484306f-6d46-4abc-9a3f-6808229bc553#vsvip-L57gii",
        "bulk_sync_kvcache": false, "cloud_type": "CLOUD_NONE", "_last_modified":
        "1561640172845919", "cloud_ref": "https://10.10.29.206/api/cloud/cloud-26b71543-d8f3-46a5-aefb-d953a0c062f7#Default-Cloud",
        "se_group_ref": "https://10.10.29.206/api/serviceenginegroup/serviceenginegroup-3d78b6e9-f388-4d60-bc48-416bc61b36d7#Default-Group",
        "scaleout_ecmp": false, "max_cps_per_client": 0, "redis_db": 8, "version":
        "3", "traffic_enabled": true, "ssl_sess_cache_avg_size": 1024, "allow_invalid_client_cert":
        false, "analytics_profile_ref": "https://10.10.29.206/api/analyticsprofile/analyticsprofile-6d380056-315d-4ef4-adb0-20bfb7daba43#System-Analytics-Profile",
        "use_bridge_ip_as_vip": false, "application_profile_ref": "https://10.10.29.206/api/applicationprofile/applicationprofile-f44d5090-2a70-4545-8cda-6c8dd22ad9e2#System-HTTP",
        "active_standby_se_tag": "ACTIVE_STANDBY_SE_1", "use_vip_as_snat": false,
        "services": [{"enable_ssl": false, "port_range_end": 80, "port": 80}], "self_se_election":
        true, "ign_pool_net_reach": false, "uuid": "virtualservice-7b058734-e628-424e-b4d9-ae24ac0876be",
        "east_west_placement": false, "limit_doser": false, "name": "rtb-facebook_outside_p80",
        "close_client_conn_on_config_update": false, "type": "VS_TYPE_NORMAL", "enable_autogw":
        true, "enabled": false, "remove_listening_port_on_vs_down": false, "tls_ticket_key":
        [{"hmac_key": "C6ym8USNxSlOnWjbkJiwcg==", "name": "26f87e24-d510-44e8-ba70-37908aec6394",
        "aes_key": "+gjx5ZwUKeFg9LB0Oba0WA=="}, {"hmac_key": "kZ9pimuzVw0Mv9nOz8whdg==",
        "name": "fa8c154b-2bd9-440e-a944-90365b3b5dca", "aes_key": "Qt5TE7VP4Tsrp3aSEpDBGQ=="},
        {"hmac_key": "/mQAD+lMIaihQk/ijWpOTQ==", "name": "ae29762e-1f1b-41f3-bb3a-dda5f01cb517",
        "aes_key": "pybPOx1s3WjIeq9jN3qKrg=="}], "redis_port": 5026, "flow_label_type":
        "NO_LABEL"}]}'
    headers:
      access-control-allow-credentials:
      - 'true'
      access-control-allow-headers:
      - Accept,Authorization,Cache-Control,Content-Type,DNT,If-Modified-Since,Keep-Alive,Origin,User-Agent,X-Mx-ReqToken,X-Requested-With,X-Avi-Tenant,X-Avi-UserAgent,X-Avi-Tenant-UUID,X-CSRFToken
      access-control-allow-methods:
      - GET, POST, PUT, DELETE, OPTIONS
      allow:
      - HEAD, GET, POST, OPTIONS
      avi_api_version:
      - 18.2.5
      cache-control:
      - private, no-cache, must-revalidate
      connection:
      - keep-alive
      content-security-policy:
      - default-src 'self'; style-src 'self' 'unsafe-inline'
      content-type:
      - application/json
      date:
      - Thu, 27 Jun 2019 12:59:24 GMT
      referrer-policy:
      - strict-origin
      set-cookie:
      - sessionid=rkf9e2akvhokesyd50l6rlur1wqrn3ui; expires=Fri, 28-Jun-2019 12:59:24
        GMT; httponly; Max-Age=86400; Path=/; secure
      - avi-sessionid=rkf9e2akvhokesyd50l6rlur1wqrn3ui; expires=Fri, 28-Jun-2019 12:59:24
        GMT; httponly; Max-Age=86400; Path=/; secure
      strict-transport-security:
      - max-age=31536000; includeSubdomains
      transfer-encoding:
      - chunked
      vary:
      - Accept, Cookie
      x-content-type-options:
      - nosniff
      x-frame-options:
      - SAMEORIGIN
      x-xss-protection:
      - 1; mode=block
    status:
      code: 200
      message: OK
- request:
    body: !!python/unicode '{"name": "rtb-facebook_outside_p80", "vip": [{"ip_address":
      {"type": "V4", "addr": "172.82.206.52"}, "vip_id": 0}], "type": "VS_TYPE_NORMAL",
      "enabled": false, "services": [{"enable_ssl": "False", "port": "80"}]}'
    headers:
      Content-Length:
      - '212'
      Content-Type:
      - application/json
      Cookie:
      - csrftoken=gFyjGQECYRjTY9L9BT71461JgZoQ8vQb; sessionid=rkf9e2akvhokesyd50l6rlur1wqrn3ui;
        avi-sessionid=rkf9e2akvhokesyd50l6rlur1wqrn3ui; csrftoken=gFyjGQECYRjTY9L9BT71461JgZoQ8vQb;
        sessionid=rkf9e2akvhokesyd50l6rlur1wqrn3ui; avi-sessionid=rkf9e2akvhokesyd50l6rlur1wqrn3ui
      Referer:
      - https://10.10.29.206
      X-Avi-Tenant:
      - admin
      X-Avi-Version:
      - 18.2.5
      X-CSRFToken:
      - gFyjGQECYRjTY9L9BT71461JgZoQ8vQb
      timeout:
      - '300'
    method: PUT
    uri: https://10.10.29.206/api/virtualservice/virtualservice-7b058734-e628-424e-b4d9-ae24ac0876be
  response:
    body:
      string: !!python/unicode '{"url": "https://10.10.29.206/api/virtualservice/virtualservice-7b058734-e628-424e-b4d9-ae24ac0876be#rtb-facebook_outside_p80",
        "uuid": "virtualservice-7b058734-e628-424e-b4d9-ae24ac0876be", "name": "rtb-facebook_outside_p80",
        "enabled": false, "application_profile_ref": "https://10.10.29.206/api/applicationprofile/applicationprofile-f44d5090-2a70-4545-8cda-6c8dd22ad9e2#System-HTTP",
        "se_group_ref": "https://10.10.29.206/api/serviceenginegroup/serviceenginegroup-3d78b6e9-f388-4d60-bc48-416bc61b36d7#Default-Group",
        "vrf_context_ref": "https://10.10.29.206/api/vrfcontext/vrfcontext-36b34585-8412-4a71-a3dc-781c1115312d#global",
        "analytics_profile_ref": "https://10.10.29.206/api/analyticsprofile/analyticsprofile-6d380056-315d-4ef4-adb0-20bfb7daba43#System-Analytics-Profile",
        "tenant_ref": "https://10.10.29.206/api/tenant/admin#admin", "cloud_ref":
        "https://10.10.29.206/api/cloud/cloud-26b71543-d8f3-46a5-aefb-d953a0c062f7#Default-Cloud",
        "vsvip_ref": "https://10.10.29.206/api/vsvip/vsvip-4484306f-6d46-4abc-9a3f-6808229bc553#vsvip-L57gii",
        "_last_modified": "1561640365100941", "network_profile_ref": "https://10.10.29.206/api/networkprofile/networkprofile-c1df95f6-65b8-4451-85e4-468f94d40f3e#System-TCP-Proxy",
        "flow_dist": "LOAD_AWARE", "delay_fairness": false, "vip": [{"vip_id": "0",
        "avi_allocated_fip": false, "auto_allocate_ip": false, "enabled": true, "auto_allocate_floating_ip":
        false, "avi_allocated_vip": false, "auto_allocate_ip_type": "V4_ONLY", "ip_address":
        {"type": "V4", "addr": "172.82.206.52"}}], "scaleout_ecmp": false, "bulk_sync_kvcache":
        false, "cloud_type": "CLOUD_NONE", "max_cps_per_client": 0, "traffic_enabled":
        true, "type": "VS_TYPE_NORMAL", "allow_invalid_client_cert": false, "use_bridge_ip_as_vip":
        false, "weight": 1, "active_standby_se_tag": "ACTIVE_STANDBY_SE_1", "use_vip_as_snat":
        false, "services": [{"enable_ssl": false, "port_range_end": 80, "port": 80}],
        "ign_pool_net_reach": false, "east_west_placement": false, "limit_doser":
        false, "close_client_conn_on_config_update": false, "ssl_sess_cache_avg_size":
        1024, "enable_autogw": true, "remove_listening_port_on_vs_down": false, "flow_label_type":
        "NO_LABEL"}'
    headers:
      access-control-allow-credentials:
      - 'true'
      access-control-allow-headers:
      - Accept,Authorization,Cache-Control,Content-Type,DNT,If-Modified-Since,Keep-Alive,Origin,User-Agent,X-Mx-ReqToken,X-Requested-With,X-Avi-Tenant,X-Avi-UserAgent,X-Avi-Tenant-UUID,X-CSRFToken
      access-control-allow-methods:
      - GET, POST, PUT, DELETE, OPTIONS
      allow:
      - HEAD, GET, PATCH, PUT, OPTIONS, DELETE
      avi_api_version:
      - 18.2.5
      cache-control:
      - private, no-cache, must-revalidate
      connection:
      - keep-alive
      content-security-policy:
      - default-src 'self'; style-src 'self' 'unsafe-inline'
      content-type:
      - application/json
      date:
      - Thu, 27 Jun 2019 12:59:25 GMT
      referrer-policy:
      - strict-origin
      server-timing:
      - update;dur=166.084051132,total;dur=323.257923126,
      set-cookie:
      - sessionid=rkf9e2akvhokesyd50l6rlur1wqrn3ui; expires=Fri, 28-Jun-2019 12:59:25
        GMT; httponly; Max-Age=86400; Path=/; secure
      - avi-sessionid=rkf9e2akvhokesyd50l6rlur1wqrn3ui; expires=Fri, 28-Jun-2019 12:59:25
        GMT; httponly; Max-Age=86400; Path=/; secure
      strict-transport-security:
      - max-age=31536000; includeSubdomains
      transfer-encoding:
      - chunked
      vary:
      - Accept, Cookie
      x-content-type-options:
      - nosniff
      x-frame-options:
      - SAMEORIGIN
      x-xss-protection:
      - 1; mode=block
    status:
      code: 200
      message: OK
version: 1
